<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<title>Bodhoboron Jewellers ‚Äì POS PRO</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

<style>
body{
    margin:0;
    background:#000;
    color:#f5d186;
    font-family:'Segoe UI',sans-serif;
}

/* HEADER */
.header{
    text-align:center;
    padding:18px 10px;
    background:#0a0a0a;
    border-bottom:1px solid #333;
}
.logo{
    width:85px;height:85px;border-radius:50%;border:3px solid #ffdb95;
}
.title{font-size:24px;font-weight:700;color:#ffdb95;margin-top:8px;}
.tagline{font-size:13px;font-style:italic;color:#e6c67a;}

/* PAGE SYSTEM */
.page{
    display:none;
    padding:15px;
    padding-bottom:90px;
}
#home{display:block;}

.section{
    background:#121212;
    padding:15px;
    border-radius:10px;
    margin:12px 0;
    border:1px solid #333;
}
h2{
    margin:0 0 10px;
    padding-bottom:5px;
    border-bottom:1px solid #333;
    color:#ffdb95;
    font-size:18px;
}

/* NAVIGATION */
.nav{
    position:fixed;
    bottom:0;left:0;right:0;
    background:#0a0a0a;
    border-top:1px solid #333;
    display:flex;
}
.nav button{
    flex:1;
    padding:10px 5px;
    background:none;
    border:none;
    color:#d1b671;
    font-size:12px;
}
.nav button.active{
    color:#ffdb95;
    font-weight:bold;
}
.nav i{
    display:block;
    font-size:16px;
    margin-bottom:3px;
}
</style>
</head>

<body>

<!-- HEADER -->
<div class="header">
    <img src="logo.png" onerror="this.src='https://i.ibb.co/2y7HbY8/default-logo.png'" class="logo">
    <div class="title">‡¶¨‡ßÅ‡¶ß ‡¶¨‡¶∞‡¶® ‡¶ú‡ßÅ‡ßü‡ßá‡¶≤‡¶æ‡¶∞‡ßç‡¶∏</div>
    <div class="tagline">"Honestly is the best policy"</div>
</div>

<!-- HOME -->
<div id="home" class="page">
    <div class="section">
        <h2>üìä ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶°</h2>
        Dashboard will load in PART-C
    </div>
</div>

<!-- SALES -->
<div id="sales" class="page">
    <div class="section">
        <h2>üí∞ ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶ø</h2>
        <div class="section">
    <h2>üßæ ‡¶®‡¶§‡ßÅ‡¶® ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶ø</h2>

    <div class="form-group">
        <label>‡¶¨‡¶æ‡¶∞‡¶ï‡ßã‡¶°:</label>
        <input type="text" id="s_barcode" placeholder="‡¶¨‡¶æ‡¶∞‡¶ï‡ßã‡¶° ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®...">
    </div>

    <div class="form-group">
        <label>‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ:</label>
        <input type="text" id="s_customer" placeholder="‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ‡¶æ‡¶∞‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ...">
    </div>

    <div class="form-group">
        <label>‡¶Ü‡¶á‡¶ü‡ßá‡¶Æ:</label>
        <input type="text" id="s_item" placeholder="‡¶Ø‡ßá‡¶Æ‡¶®‡¶É ‡¶∞‡¶ø‡¶Ç, ‡¶®‡ßá‡¶ï‡¶≤‡ßá‡¶∏...">
    </div>

</div>

<div class="section">
    <h2>‚öñÔ∏è ‡¶ì‡¶ú‡¶® ‡¶π‡¶ø‡¶∏‡¶æ‡¶¨</h2>

    <div class="form-group">
        <label>‡¶≠‡¶∞‡¶ø:</label>
        <input type="number" step="0.01" id="w_vori" placeholder="0.00">
    </div>

    <div class="form-group">
        <label>‡¶Ü‡¶®‡¶æ:</label>
        <input type="number" step="0.01" id="w_ana" placeholder="0.00">
    </div>

    <div class="form-group">
        <label>‡¶∞‡¶§‡¶ø:</label>
        <input type="number" step="0.01" id="w_roti" placeholder="0.00">
    </div>

    <div class="form-group">
        <label>‡¶™‡ßü‡ßá‡¶®‡ßç‡¶ü:</label>
        <input type="number" step="0.01" id="w_point" placeholder="0.00">
    </div>

    <div class="form-group">
        <label>‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ:</label>
        <input type="number" step="0.001" id="w_gram" placeholder="0.000">
    </div>

    <button class="btn-primary" onclick="calcGram()">‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ‡ßá ‡¶ï‡¶®‡¶≠‡¶æ‡¶∞‡ßç‡¶ü</button>

    <div class="form-group">
        <label>‡¶Æ‡ßã‡¶ü ‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ:</label>
        <input type="text" id="w_total" readonly>
    </div>
</div>

<div class="section">
    <h2>‚ú® ‡¶ó‡ßã‡¶≤‡ßç‡¶° ‡¶∞‡ßá‡¶ü</h2>

    <button class="btn-primary" onclick="setRate(22)">‡ß®‡ß® ‡¶ï‡ßç‡¶Ø‡¶æ‡¶∞‡ßá‡¶ü</button>
    <button class="btn-primary" onclick="setRate(21)">‡ß®‡ßß ‡¶ï‡ßç‡¶Ø‡¶æ‡¶∞‡ßá‡¶ü</button>
    <button class="btn-primary" onclick="setRate(18)">‡ßß‡ßÆ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶∞‡ßá‡¶ü</button>

    <div class="form-group">
        <label>‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶∞‡ßá‡¶ü:</label>
        <input type="number" step="0.01" id="r_gram" placeholder="0.00">
    </div>
</div>

<div class="section">
    <h2>üí∞ ‡¶¶‡¶æ‡¶Æ ‡¶π‡¶ø‡¶∏‡¶æ‡¶¨</h2>

    <div class="form-group">
        <label>‡¶Æ‡ßá‡¶ï‡¶ø‡¶Ç (‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ):</label>
        <input type="number" id="c_making" placeholder="0">
    </div>

    <div class="form-group">
        <label>‡¶ì‡ßü‡ßá‡¶∏‡ßç‡¶ü‡ßá‡¶ú %:</label>
        <input type="number" id="c_waste" placeholder="0">
    </div>

    <div class="form-group">
        <label>‡¶∏‡ßç‡¶ü‡ßã‡¶® ‡¶¶‡¶æ‡¶Æ:</label>
        <input type="number" id="c_stone" placeholder="0">
    </div>

    <div class="form-group">
        <label>‡¶°‡¶ø‡¶∏‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü:</label>
        <input type="number" id="c_disc" placeholder="0">
    </div>

    <div class="form-group">
        <label>‡¶®‡¶ó‡¶¶:</label>
        <input type="number" id="c_paid" placeholder="0">
    </div>

    <button class="btn-primary" onclick="calcBill()">‡¶®‡ßá‡¶ü ‡¶¶‡¶æ‡¶Æ ‡¶π‡¶ø‡¶∏‡¶æ‡¶¨</button>

    <div class="form-group">
        <label>‡¶®‡ßá‡¶ü ‡¶¶‡¶æ‡¶Æ:</label>
        <input type="text" id="c_net" readonly>
    </div>

    <div class="form-group">
        <label>‡¶¨‡¶æ‡¶ï‡¶ø:</label>
        <input type="text" id="c_due" readonly>
    </div>

    <button class="btn-primary" onclick="saveSale()">‚úî ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶ø ‡¶∏‡ßá‡¶≠</button>
    <button class="btn-primary" onclick="printBill()">üñ® ‡¶™‡ßç‡¶∞‡¶ø‡¶®‡ßç‡¶ü ‡¶¨‡¶ø‡¶≤</button>

</div>

    </div>
</div>

<!-- STOCK -->
<div id="stock" class="page">
    <div class="section">
        <h2>üì¶ ‡¶∏‡ßç‡¶ü‡¶ï</h2>
        <!-- PART-B will insert Stock UI here -->
    </div>
</div>

<!-- MORTGAGE -->
<div id="mortgage" class="page">
    <div class="section">
        <h2>üí∞ ‡¶Æ‡¶∞‡ßç‡¶ü‡¶ó‡ßá‡¶ú</h2>
        <!-- PART-B will insert Mortgage UI here -->
    </div>
</div>

<!-- CUSTOMERS -->
<div id="customers" class="page">
    <div class="section">
        <h2>üë• ‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï</h2>
        <!-- PART-B will insert Customer UI here -->
    </div>
</div>

<!-- REPORTS -->
<div id="reports" class="page">
    <div class="section">
        <h2>üìÑ ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü</h2>
        <!-- PART-C will insert Reports UI here -->
    </div>
</div>

<!-- NAVIGATION -->
<div class="nav">
    <button class="active" onclick="showPage('home',this)"><i class="fa-solid fa-house"></i>‡¶π‡ßã‡¶Æ</button>
    <button onclick="showPage('sales',this)"><i class="fa-solid fa-cart-shopping"></i>‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶ø</button>
    <button onclick="showPage('stock',this)"><i class="fa-solid fa-boxes-stacked"></i>‡¶∏‡ßç‡¶ü‡¶ï</button>
    <button onclick="showPage('mortgage',this)"><i class="fa-solid fa-handshake"></i>‡¶Æ‡¶∞‡ßç‡¶ó‡ßá‡¶ú</button>
    <button onclick="showPage('customers',this)"><i class="fa-solid fa-users"></i>‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï</button>
    <button onclick="showPage('reports',this)"><i class="fa-solid fa-chart-line"></i>‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü</button>
</div>
<script>

// ---------------------- LOCAL DATABASE ------------------------
let DB = {
    sales: JSON.parse(localStorage.getItem("BB_sales") || "[]")
};

function saveDB() {
    localStorage.setItem("BB_sales", JSON.stringify(DB.sales));
}


// ---------------------- GRAM CALCULATOR ------------------------
function calcGram() {
    let v = parseFloat(document.getElementById("sale_vori").value) || 0;
    let a = parseFloat(document.getElementById("sale_ana").value) || 0;
    let r = parseFloat(document.getElementById("sale_roti").value) || 0;
    let p = parseFloat(document.getElementById("sale_point").value) || 0;

    let gram = (v * 11.664) + (a * 0.729) + (r * 0.1215) + (p * 0.01);

    document.getElementById("sale_gram").value = gram.toFixed(3);
    return gram;
}


// ---------------------- AUTO RATE SET ------------------------
function setKaratRate(k) {
    let rate = 0;
    if (k == 22) rate = 105000 / 11.664;
    else if (k == 21) rate = 100000 / 11.664;
    else rate = 80000 / 11.664;

    document.getElementById("sale_rate").value = rate.toFixed(2);
}


// ---------------------- BILL CALCULATE ------------------------
function calcBill() {

    let gram = parseFloat(document.getElementById("sale_gram").value) || 0;
    let rate = parseFloat(document.getElementById("sale_rate").value) || 0;

    let making = parseFloat(document.getElementById("sale_making").value) || 0;
    let waste = parseFloat(document.getElementById("sale_waste").value) || 0;
    let stone = parseFloat(document.getElementById("sale_stone").value) || 0;
    let disc = parseFloat(document.getElementById("sale_discount").value) || 0;
    let paid = parseFloat(document.getElementById("sale_paid").value) || 0;

    let gold_price = gram * rate;
    let waste_price = gold_price * (waste / 100);
    let making_price = gram * making;

    let net = gold_price + waste_price + making_price + stone - disc;
    let due = net - paid;

    document.getElementById("sale_net").innerText = "‡ß≥ " + net.toFixed(2);
    document.getElementById("sale_due").innerText = "‡ß≥ " + due.toFixed(2);

    return { net, due, paid, gram };
}


// ---------------------- SAVE SALE ------------------------
function saveSale() {

    let barcode = document.getElementById("sale_barcode").value;
    let customer = document.getElementById("sale_customer").value;
    let item = document.getElementById("sale_item").value;

    let bill = calcBill();

    let saleEntry = {
        id: "S" + String(Date.now()).slice(-6),
        date: new Date().toLocaleString("bn-BD"),
        barcode,
        customer,
        item,
        gram: bill.gram,
        net: bill.net,
        paid: bill.paid,
        due: bill.due
    };

    DB.sales.push(saleEntry);
    saveDB();

    alert("‚úî ‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶ø ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶π‡ßü‡ßá‡¶õ‡ßá!");

    document.getElementById("sale_bill_preview").innerHTML =
        `<p>‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶ø ID: <b>${saleEntry.id}</b><br>
         ‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï: <b>${customer}</b><br>
         ‡¶®‡ßá‡¶ü: <b>‡ß≥ ${bill.net.toFixed(2)}</b><br>
         ‡¶¨‡¶æ‡¶ï‡¶ø: <b>‡ß≥ ${bill.due.toFixed(2)}</b></p>`;
}

</script>

<script>
function showPage(id,btn){
    document.querySelectorAll('.page').forEach(p=>p.style.display='none');
    document.getElementById(id).style.display='block';
    document.querySelectorAll('.nav button').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
}
</script>

</body>
</html>
